<!DOCTYPE html>
<html>
	
	<head>
		<title>Chat</title>
		<link href = "css/style.css" rel = "stylesheet">
		<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.0/angular-material.min.css">
   		<link rel="stylesheet" href="/assets/stylesheets/main.css">
	</head>
	
	<body ng-app = "chatApp" ng-controller = "chatController" layout = "row" layout-align = "center stretch" >

	<md-card flex = "none" layout = "column">
		
		<md-content flex = "90" id = "message-pane" style = "width : 800px;
		background: url(https://images2.alphacoders.com/617/617613.jpg);
		background-repeat:no-repeat;
		background-size:cover;
		background-position:center;">

		<div ng-repeat = "message in messages" layout = "column"
		layout-align="{{message.sender=='BOT' ? 'start start' : 'start end'}}">


			<md-card style = "color : #4C072E; max-width:60%;border-radius: 10px; padding:7px; font-size: 14px;"
			ng-style = "message.sender == 'BOT' ?
			{'background-color':'#EE904A'} : {'background-color':'#F8C495'}">
			<span>{{message.text}}</span>
			<span ng-bind-html="trust(message.feedResponse.description)">
				{{message.feedResponse.description}}</span>	
			<span style="margin-top:3px; text-align: right; color: #666666 ; font-size: 10px;"> {{message.time}} </span>
		</md-card>
		</div>
		
		</md-content>
		
		<md-card flex="10" style="margin: 0px" layout="row" layout-align="space-between center" class="md-whiteframe-8dp">
		<form flex="90" ng-submit="sendMessage()" layout="row">
               <md-input-container flex="100">
                   <label>Guin it!</label>
                   <input ng-model="userMessage">
               </md-input-container>
           </form>
          		<md-button style="margin: auto; padding: 0px" ng-click="sendMessage() ">
               <img src="/assets/images/bird_red.png" 
               style="width: 48px;padding-top:8px; margin:auto;"/>
               <!--<md-icon style="height: 100%; padding: 0px; " md-icon="/assets/images/guin2.jpg"></md-icon>-->
           </md-button>
		</md-card>
	
	</md-card>

	<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
   	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-animate.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-aria.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-messages.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.0/angular-material.min.js"></script>
    <script src = "/assets/javascript/chat.js"></script>
</html>